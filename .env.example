# ============================================================================
# Nexus Legal Integration - Environment Variables Template
# ============================================================================
# INSTRUCCIONES:
# 1. Copiar este archivo como ".env"
# 2. Reemplazar los valores de ejemplo con tus credenciales reales
# 3. NUNCA commitear el archivo .env a Git
# ============================================================================

# ----------------------------------------------------------------------------
# ClickUp API Configuration
# ----------------------------------------------------------------------------
CLICKUP_API_TOKEN=pk_YOUR_CLICKUP_API_TOKEN_HERE
CLICKUP_WEBHOOK_SECRET=your_webhook_secret_here
CLICKUP_TEAM_ID=your_team_id_optional
CLICKUP_LIST_ID=your_list_id_optional

# ----------------------------------------------------------------------------
# Cloud SQL Configuration (PostgreSQL)
# ----------------------------------------------------------------------------
# Opción 1: Parámetros individuales
DATABASE_HOST=your-cloudsql-instance-ip-or-unix-socket
DATABASE_PORT=5432
DATABASE_NAME=nexus_legal_db
DATABASE_USER=postgres
DATABASE_PASSWORD=your_secure_password_here
DATABASE_SSL_MODE=require

# Opción 2: Connection String completo (sobrescribe los parámetros individuales)
# DATABASE_URL=postgresql://user:password@host:port/database?sslmode=require

# Para conexión vía Unix Socket en Cloud Run:
# DATABASE_HOST=/cloudsql/PROJECT_ID:REGION:INSTANCE_NAME

# ----------------------------------------------------------------------------
# Google Sheets Configuration (Service Account)
# ----------------------------------------------------------------------------
GOOGLE_SHEETS_ENABLED=true
GOOGLE_SHEETS_SPREADSHEET_ID=1ABC123xyz_your_spreadsheet_id_here
GOOGLE_SHEETS_SHEET_NAME=Leads DVS

# Opción 1: JSON string (recomendado para Cloud Run/Secrets)
# GOOGLE_SHEETS_CREDENTIALS_JSON='{"type":"service_account","project_id":"...","private_key":"..."}'

# Opción 2: Path a archivo JSON (para desarrollo local)
GOOGLE_SHEETS_CREDENTIALS_PATH=/path/to/service-account.json

# Mapeo de campos para Google Sheets (JSON)
# Formato: {"campo_task": numero_columna}
# Ejemplo: task_name va a columna 1, phone a columna 2, etc.
GOOGLE_SHEETS_FIELD_MAPPING='{"task_id": 1, "task_name": 2, "status": 3, "link_intake": 4, "url": 5, "date_created": 6}'

# ----------------------------------------------------------------------------
# Application Configuration
# ----------------------------------------------------------------------------
APP_ENV=production
DEBUG=false
LOG_LEVEL=INFO

# ----------------------------------------------------------------------------
# CORS Configuration
# ----------------------------------------------------------------------------
# Separar múltiples orígenes con comas
# Usar "*" para permitir todos (NO recomendado en producción)
CORS_ORIGINS=https://app.clickup.com,https://yourdomain.com

# ----------------------------------------------------------------------------
# External Dispatch Configuration (HTTP POST on webhook trigger)
# ----------------------------------------------------------------------------
EXTERNAL_DISPATCH_ENABLED=true
EXTERNAL_DISPATCH_URL=https://your-external-service.com/api/webhook

# ----------------------------------------------------------------------------
# Security (Opcional)
# ----------------------------------------------------------------------------
# Clave para encriptar PII (task_content) - Generar con: openssl rand -hex 32
ENCRYPTION_KEY=your_32_byte_hex_encryption_key_here

# ============================================================================
# NOTAS DE SEGURIDAD
# ============================================================================
# - Este archivo contiene información sensible (contraseñas, tokens)
# - Asegúrate de que .env esté en .gitignore
# - En producción (Cloud Run), usa Secret Manager en lugar de .env
# - Rota las credenciales regularmente
# - Usa principio de menor privilegio para las cuentas de servicio
# ============================================================================
